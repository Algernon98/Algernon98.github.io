{"title":"SQL语言(一)数据查询","uid":"894e67d0692c95671030339fe71cd366","slug":"sql1","date":"2022-11-08T13:30:49.000Z","updated":"2022-11-08T14:20:24.069Z","comments":true,"path":"api/articles/sql1.json","keywords":null,"cover":[],"content":"<h1 id=\"数据查询\"><a href=\"#数据查询\" class=\"headerlink\" title=\"数据查询\"></a>数据查询</h1><p>数据查询一般格式为：</p>\n<pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\">SELECT [ALL|DISTINCT]&lt;目标列表达式&gt;[,&lt;目标列表达式&gt;]···\nFROM&lt;表名或视图名&gt;[,&lt;表名或视图名&gt;···]|(&lt;SELECT语句&gt;)[AS]&lt;别名&gt;\n[WHERE&lt;条件表达式&gt;]\n[GROUP BY&lt;列名1&gt;[HAVING&lt;条件表达式&gt;]]\n[ORDER BY&lt;列名2&gt;[ASC |DESC]];</code></pre>\n<p>整个SELECT语句的含义是，根据WHERE子句的条件表达式从FROM子句指定的基本表、视图或派生表中找出满足条件的元组，再按SELECT子句中的<strong>目标列</strong>表达式选出元组中的属性值形成结果表。</p>\n<p>如果有GROUP BY 子句，则将结果按&lt;列名1&gt;的值进行分组，该属性列值相等的元组为一个组。通常会在每组中作用聚集函数。如果GROUP BY子句带HAVING短语，则只有满足指定条件的组才予以输出。</p>\n<p>如果有ORDER BY子句，则结果表还要按照&lt;列名2&gt;的值的升序或降序排序。</p>\n<h2 id=\"单表查询\"><a href=\"#单表查询\" class=\"headerlink\" title=\"单表查询\"></a>单表查询</h2><h4 id=\"查询全体学生的姓名、学号、所在系\"><a href=\"#查询全体学生的姓名、学号、所在系\" class=\"headerlink\" title=\"查询全体学生的姓名、学号、所在系\"></a>查询全体学生的姓名、学号、所在系</h4><pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\">Use school1\nGO\nSELECT Sname,Sno,Sdept\nFROM Student</code></pre>\n<p><img src=\"https://img-blog.csdnimg.cn/e4f03238edab49e698d93edd6f47924c.png\" alt=\"在这里插入图片描述\"></p>\n<h4 id=\"查询每个学生的详细记录\"><a href=\"#查询每个学生的详细记录\" class=\"headerlink\" title=\"查询每个学生的详细记录\"></a>查询每个学生的详细记录</h4><pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\">Use school1\nGO\nSELECT *\nFROM Student</code></pre>\n<p><img src=\"https://img-blog.csdnimg.cn/257982d287a1445a86f3c457a9c4291f.png\" alt=\"在这里插入图片描述\"></p>\n<h4 id=\"查询全体学生的姓名及其出生年份\"><a href=\"#查询全体学生的姓名及其出生年份\" class=\"headerlink\" title=\"查询全体学生的姓名及其出生年份\"></a>查询全体学生的姓名及其出生年份</h4><pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\">Use school1\nGO\nSELECT Sname,2014-Sage &#x2F;* 查询结果的第二列是一个算数表达式*&#x2F;\nFROM Student</code></pre>\n<p><img src=\"https://img-blog.csdnimg.cn/b9f06e9a63f144f9a8098f9eca4c92e5.png\" alt=\"在这里插入图片描述\"></p>\n<h4 id=\"查询全体学生的姓名、出生年份和所在的院系，要求用小写字母表示系名\"><a href=\"#查询全体学生的姓名、出生年份和所在的院系，要求用小写字母表示系名\" class=\"headerlink\" title=\"查询全体学生的姓名、出生年份和所在的院系，要求用小写字母表示系名\"></a>查询全体学生的姓名、出生年份和所在的院系，要求用小写字母表示系名</h4><pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\">Use school1\nGO\nSELECT Sname,&#39;Year of Birth&#39;,2014-Sage,LOWER(Sdept) \nFROM Student</code></pre>\n<p><img src=\"https://img-blog.csdnimg.cn/d6e82e423b9b4415a0df7efc1dcd7a8e.png\" alt=\"在这里插入图片描述\"><br>可以通过指定别名来改变查询结果的列标题</p>\n<pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\">Use school1\nGO\nSELECT Sname,&#39;Year of Birth&#39;,2014-Sage BIRTHDAY,LOWER(Sdept) DEPARTMENT\nFROM Student</code></pre>\n<p><img src=\"https://img-blog.csdnimg.cn/552abd8b80dd4d93ad118589f3f0d829.png\" alt=\"在这里插入图片描述\"><br><strong>消除重复的行</strong></p>\n<h4 id=\"查询选修了课程的学生学号\"><a href=\"#查询选修了课程的学生学号\" class=\"headerlink\" title=\"查询选修了课程的学生学号\"></a>查询选修了课程的学生学号</h4><pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\">Use school1\nGO\nSELECT Sno\nFROM SC</code></pre>\n<p><img src=\"https://img-blog.csdnimg.cn/adb2a6ae9e24412eadb4b7bd9eab6b8a.png\" alt=\"在这里插入图片描述\"><br>查询结果中包含了许多重复的行。我们可以指定DISTINCT来去掉表中的重复行。</p>\n<pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\">Use school1\nGO\nSELECT DISTINCT Sno\nFROM SC</code></pre>\n<p><img src=\"https://img-blog.csdnimg.cn/26ecaee7fe0d46a8aae877c80f27849c.png\" alt=\"在这里插入图片描述\"></p>\n<h3 id=\"WHERE子句常用查询条件\"><a href=\"#WHERE子句常用查询条件\" class=\"headerlink\" title=\"WHERE子句常用查询条件\"></a>WHERE子句常用查询条件</h3><div class=\"table-container\">\n<table>\n<thead>\n<tr>\n<th>查询条件</th>\n<th>谓词</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>比较</td>\n<td>=,&gt;,&lt;,&gt;=,&lt;=,!=,&lt;&gt;,!&gt;,!&lt;;NOT+上述比较运算符</td>\n</tr>\n<tr>\n<td>确定范围</td>\n<td>BETWEEN AND,NOT BETWEEN AND</td>\n</tr>\n<tr>\n<td>确定集合</td>\n<td>IN,NOT IN</td>\n</tr>\n<tr>\n<td>字符匹配</td>\n<td>LIKE,NOT LIKE</td>\n</tr>\n<tr>\n<td>空值</td>\n<td>IS NOLL,IS NOT NULL</td>\n</tr>\n<tr>\n<td>多重条件（逻辑运算）</td>\n<td>AND,OR,NOT</td>\n</tr>\n</tbody>\n</table>\n</div>\n<h4 id=\"查询所有年龄在20岁以下的学生姓名及其年龄\"><a href=\"#查询所有年龄在20岁以下的学生姓名及其年龄\" class=\"headerlink\" title=\"查询所有年龄在20岁以下的学生姓名及其年龄\"></a>查询所有年龄在20岁以下的学生姓名及其年龄</h4><pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\">Use school1\nGO\nSELECT Sname,Sage\nFROM Student\nWHERE Sage&lt;20;</code></pre>\n<p><img src=\"https://img-blog.csdnimg.cn/61fa4dd83cdc4e4081e2965af19a7c9f.png\" alt=\"在这里插入图片描述\"></p>\n<h4 id=\"查询年龄不在20-23岁之间的学生姓名、系别和年龄\"><a href=\"#查询年龄不在20-23岁之间的学生姓名、系别和年龄\" class=\"headerlink\" title=\"查询年龄不在20~23岁之间的学生姓名、系别和年龄\"></a>查询年龄不在20~23岁之间的学生姓名、系别和年龄</h4><pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\">Use school1\nGO\nSELECT Sname,Sdept,Sage\nFROM Student\nWHERE Sage NOT BETWEEN 20 AND 23;</code></pre>\n<p><img src=\"https://img-blog.csdnimg.cn/c8cb3d0bd9db4ba0ba32b6e3eb62f25e.png\" alt=\"在这里插入图片描述\"><br>谓词IN可以用来查找属性值属于指定集合的元组。<br>查找计算机科学系（CS）、数学系（MA）和信息系（IS）学生的姓名和性别。</p>\n<pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\">Use school1\nGO\nSELECT Sname,Ssex\nFROM Student\nWHERE Sdept IN (&#39;计算机&#39;,&#39;数学&#39;,&#39;信息&#39;);</code></pre>\n<p><img src=\"https://img-blog.csdnimg.cn/d067be83b9fa45fe91f5253d8c148af6.png\" alt=\"在这里插入图片描述\"></p>\n<h3 id=\"字符匹配\"><a href=\"#字符匹配\" class=\"headerlink\" title=\"字符匹配\"></a>字符匹配</h3><p>谓词LIKE可以用来进行字符串的匹配。</p>\n<h4 id=\"查询所有姓刘的同学的姓名、学号和-性别。\"><a href=\"#查询所有姓刘的同学的姓名、学号和-性别。\" class=\"headerlink\" title=\"查询所有姓刘的同学的姓名、学号和 性别。\"></a>查询所有姓刘的同学的姓名、学号和 性别。</h4><pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\">Use school1\nGO\nSELECT Sname,Sno,Ssex\nFROM Student\nWHERE Sname LIKE &#39;刘%&#39;</code></pre>\n<p><img src=\"https://img-blog.csdnimg.cn/653a57212e644f709c6c0b418ca51882.png\" alt=\"在这里插入图片描述\"></p>\n<h4 id=\"查询姓“范”且全名为三个汉字的学生的姓名\"><a href=\"#查询姓“范”且全名为三个汉字的学生的姓名\" class=\"headerlink\" title=\"查询姓“范”且全名为三个汉字的学生的姓名\"></a>查询姓“范”且全名为三个汉字的学生的姓名</h4><pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\">Use school1\nGO\nSELECT Sname\nFROM Student\nWHERE Sname LIKE &#39;范__&#39;;</code></pre>\n<p><img src=\"https://img-blog.csdnimg.cn/15cdddae8c7045b18380b9509064c063.png\" alt=\"在这里插入图片描述\"></p>\n<h4 id=\"查询名字中第二个字为“林”的学生的姓名和学号\"><a href=\"#查询名字中第二个字为“林”的学生的姓名和学号\" class=\"headerlink\" title=\"查询名字中第二个字为“林”的学生的姓名和学号\"></a>查询名字中第二个字为“林”的学生的姓名和学号</h4><pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\">Use school1\nGO\nSELECT Sname\nFROM Student\nWHERE Sname LIKE &#39;_林%&#39;;</code></pre>\n<p><img src=\"https://img-blog.csdnimg.cn/deab2c904dce4095b6debe35df25ba7f.png\" alt=\"在这里插入图片描述\"></p>\n<h4 id=\"查询缺少成绩的学生的学号和相应的课程号\"><a href=\"#查询缺少成绩的学生的学号和相应的课程号\" class=\"headerlink\" title=\"查询缺少成绩的学生的学号和相应的课程号\"></a>查询缺少成绩的学生的学号和相应的课程号</h4><p>某些学生选修课程后没有参加考试，所以有选课记录，但没有考试成绩。查询缺少成绩的学生的学号和相应的课程号。</p>\n<pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\">Use school1\nGO\nSELECT Sno,Cno\nFROM SC\nWHERE Grade IS  NULL;</code></pre>\n<p>注意，这里的IS不能用等号代替。</p>\n<h3 id=\"ORDER-BY-子句\"><a href=\"#ORDER-BY-子句\" class=\"headerlink\" title=\"ORDER BY 子句\"></a>ORDER BY 子句</h3><p>用户可以用ORDER BY子句对查询结果按照一个或多个属性列的升序（ASC）或降序（DESC）排列，默认值为升序。</p>\n<h4 id=\"查询全体学生情况，查询结果按所在系的系号升序排列，同一系中的学生按年龄降序排列\"><a href=\"#查询全体学生情况，查询结果按所在系的系号升序排列，同一系中的学生按年龄降序排列\" class=\"headerlink\" title=\"查询全体学生情况，查询结果按所在系的系号升序排列，同一系中的学生按年龄降序排列\"></a>查询全体学生情况，查询结果按所在系的系号升序排列，同一系中的学生按年龄降序排列</h4><pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\">Use school1\nGO\nSELECT *\nFROM Student\nORDER BY Sdept,Sage DESC;</code></pre>\n<p><img src=\"https://img-blog.csdnimg.cn/79cf9ceb277d4fd8a76320e7ae6e11b4.png\" alt=\"在这里插入图片描述\"></p>\n<h3 id=\"聚集函数\"><a href=\"#聚集函数\" class=\"headerlink\" title=\"聚集函数\"></a>聚集函数</h3><div class=\"table-container\">\n<table>\n<thead>\n<tr>\n<th>COUNT(*)</th>\n<th>统计元组个数</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>COUNT([DISTINCT   ALL])&lt;列名&gt;</td>\n<td>统计一列中值的个数</td>\n</tr>\n<tr>\n<td>SUM</td>\n<td>计算一列值的总和（此列必须是数值型）</td>\n</tr>\n<tr>\n<td>AVG</td>\n<td>计算一列值的平均值（此列必须是数值型）</td>\n</tr>\n<tr>\n<td>MAX</td>\n<td>求一列值中的最大值</td>\n</tr>\n<tr>\n<td>MIN</td>\n<td>求一列值中的最小值</td>\n</tr>\n</tbody>\n</table>\n</div>\n<h4 id=\"查询学生总人数\"><a href=\"#查询学生总人数\" class=\"headerlink\" title=\"查询学生总人数\"></a>查询学生总人数</h4><pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\">Use school1\nGO\nSELECT COUNT(*)\nFROM Student</code></pre>\n<p><img src=\"https://img-blog.csdnimg.cn/5728223c2cff409a861eba4ffac12e64.png\" alt=\"在这里插入图片描述\"></p>\n<h4 id=\"查询选修了课程的学生人数\"><a href=\"#查询选修了课程的学生人数\" class=\"headerlink\" title=\"查询选修了课程的学生人数\"></a>查询选修了课程的学生人数</h4><pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\">Use school1\nGO\nSELECT COUNT(DISTINCT Sno)\nFROM SC</code></pre>\n<p><img src=\"https://img-blog.csdnimg.cn/d946a33dd6964a05b12c09d310e9bddd.png\" alt=\"在这里插入图片描述\"></p>\n<h4 id=\"计算选修1号课程的学生平均成绩\"><a href=\"#计算选修1号课程的学生平均成绩\" class=\"headerlink\" title=\"计算选修1号课程的学生平均成绩\"></a>计算选修1号课程的学生平均成绩</h4><pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\">Use school1\nGO\nSELECT AVG(Grade)\nFROM SC\nWHERE Cno&#x3D;&#39;C01&#39;</code></pre>\n<p><img src=\"https://img-blog.csdnimg.cn/c1f446f18fa643d18ddddd28c3747b9e.png\" alt=\"在这里插入图片描述\"></p>\n<h4 id=\"查询选修1号课程的学生的最高分数\"><a href=\"#查询选修1号课程的学生的最高分数\" class=\"headerlink\" title=\"查询选修1号课程的学生的最高分数\"></a>查询选修1号课程的学生的最高分数</h4><pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\">Use school1\nGO\nSELECT MAX(Grade)\nFROM SC\nWHERE Cno&#x3D;&#39;C01&#39;</code></pre>\n<p><img src=\"https://img-blog.csdnimg.cn/a1fc1fcbd9934c5c945259dae4b6e861.png\" alt=\"在这里插入图片描述\"></p>\n<h4 id=\"查询学生S01选秀课程的总学分数\"><a href=\"#查询学生S01选秀课程的总学分数\" class=\"headerlink\" title=\"查询学生S01选秀课程的总学分数\"></a>查询学生S01选秀课程的总学分数</h4><pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\">Use school1\nGO\nSELECT SUM(Credit)\nFROM SC,Course\nWHERE Sno&#x3D;&#39;S01&#39; AND SC.Cno&#x3D;Course.Cno</code></pre>\n<p><img src=\"https://img-blog.csdnimg.cn/4af0893f89e64dd2bc9e856e68c1e762.png\" alt=\"在这里插入图片描述\"><br>验证：<br><img src=\"https://img-blog.csdnimg.cn/60cc3f6f5b0e4c449a5b4a32d6c5a467.png\" alt=\"在这里插入图片描述\"><br><img src=\"https://img-blog.csdnimg.cn/f8efabe932ed4fcca3bf08b7fe51b5ec.png\" alt=\"在这里插入图片描述\"></p>\n<h3 id=\"GROUP-BY-子句\"><a href=\"#GROUP-BY-子句\" class=\"headerlink\" title=\"GROUP BY 子句\"></a>GROUP BY 子句</h3><p>GROUP BY子句将查询结果按某一列或多列的值分组，值相等的为一组。</p>\n<p>分组后聚集函数将作用于每一个组，即每一个组都有一个函数值。</p>\n<h4 id=\"求各个课程号及相应的选课人数\"><a href=\"#求各个课程号及相应的选课人数\" class=\"headerlink\" title=\"求各个课程号及相应的选课人数\"></a>求各个课程号及相应的选课人数</h4><pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\">Use school1\nGO\nSELECT Cno,COUNT(Sno)\nFROM SC\nGROUP BY Cno</code></pre>\n<p><img src=\"https://img-blog.csdnimg.cn/9ea4ada7865443cab371f35cc4d9194c.png\" alt=\"在这里插入图片描述\"></p>\n<h4 id=\"查询选修了三门及以上课程的学生学号\"><a href=\"#查询选修了三门及以上课程的学生学号\" class=\"headerlink\" title=\"查询选修了三门及以上课程的学生学号\"></a>查询选修了三门及以上课程的学生学号</h4><pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\">Use school1\nGO\nSELECT Sno\nFROM SC\nGROUP BY Sno\nHAVING COUNT(*)&gt;&#x3D;3</code></pre>\n<p><img src=\"https://img-blog.csdnimg.cn/5b0836f556c04cc286d3124b2923fe90.png\" alt=\"在这里插入图片描述\"></p>\n<h4 id=\"查询平均成绩大于等于80分的学生学号和平均成绩\"><a href=\"#查询平均成绩大于等于80分的学生学号和平均成绩\" class=\"headerlink\" title=\"查询平均成绩大于等于80分的学生学号和平均成绩\"></a>查询平均成绩大于等于80分的学生学号和平均成绩</h4><pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\">Use school1\nGO\nSELECT Sno,AVG(Grade)\nFROM SC\nGROUP BY Sno\nHAVING AVG(Grade)&gt;&#x3D;80</code></pre>\n<p><img src=\"https://img-blog.csdnimg.cn/9e23db2267a547db95522d658c24619e.png\" alt=\"在这里插入图片描述\"></p>\n<h2 id=\"连接查询\"><a href=\"#连接查询\" class=\"headerlink\" title=\"连接查询\"></a>连接查询</h2><h3 id=\"等值与非等值连接查询\"><a href=\"#等值与非等值连接查询\" class=\"headerlink\" title=\"等值与非等值连接查询\"></a>等值与非等值连接查询</h3><h4 id=\"查询每个学生及其选修课程的情况\"><a href=\"#查询每个学生及其选修课程的情况\" class=\"headerlink\" title=\"查询每个学生及其选修课程的情况\"></a>查询每个学生及其选修课程的情况</h4><pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\">Use school1\nGO\nSELECT Student.*,SC.*\nFROM Student,SC\nWHERE Student.Sno&#x3D;SC.Sno</code></pre>\n<p><img src=\"https://img-blog.csdnimg.cn/ce0984a9b553489f9b761b45df1b6de0.png\" alt=\"在这里插入图片描述\"></p>\n<h4 id=\"查询选修2号课程且成绩在90分以上的所有学生的学号和姓名\"><a href=\"#查询选修2号课程且成绩在90分以上的所有学生的学号和姓名\" class=\"headerlink\" title=\"查询选修2号课程且成绩在90分以上的所有学生的学号和姓名\"></a>查询选修2号课程且成绩在90分以上的所有学生的学号和姓名</h4><pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\">Use school1\nGO\nSELECT Student.Sno,Sname\nFROM Student,SC\nWHERE Student.Sno&#x3D;SC.Sno AND SC.Cno&#x3D;&#39;C02&#39; AND SC.Grade&gt;90</code></pre>\n<p><img src=\"https://img-blog.csdnimg.cn/5b718b064ba34c21a34373b831d9894c.png\" alt=\"在这里插入图片描述\"></p>\n<h4 id=\"自身连接\"><a href=\"#自身连接\" class=\"headerlink\" title=\"自身连接\"></a>自身连接</h4><p>连接操作不仅可以在两个表中进行，也可以是一个表与其自己进行连接，称为表的<strong>自身连接</strong>。</p>\n<h4 id=\"查询每一门课的间接先修课\"><a href=\"#查询每一门课的间接先修课\" class=\"headerlink\" title=\"查询每一门课的间接先修课\"></a>查询每一门课的间接先修课</h4><pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\">Use school1\nGO\nSELECT FIRST.Cno,SECOND.Pre_Cno\nFROM Course FIRST,Course SECOND\nWHERE FIRST.Cno&#x3D;SECOND.Pre_Cno</code></pre>\n<p><img src=\"https://img-blog.csdnimg.cn/44c75c9a13cf4c7d8044cf35eedf79de.png\" alt=\"在这里插入图片描述\"></p>\n<h3 id=\"外连接\"><a href=\"#外连接\" class=\"headerlink\" title=\"外连接\"></a>外连接</h3><h4 id=\"查询填入空值\"><a href=\"#查询填入空值\" class=\"headerlink\" title=\"查询填入空值\"></a>查询填入空值</h4><p>在“查询每个学生及其选修课程的情况”中，没有选课的学生没有数据，如果想要这些学生的数据，而选课填上空值NULL，则可以使用外连接：</p>\n<pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\">Use school1\nGO\nSELECT Student.Sno,Sname,Cno,Grade\nFROM Student LEFT OUTER JOIN SC ON (Student.Sno&#x3D;SC.Sno)</code></pre>\n<p><img src=\"https://img-blog.csdnimg.cn/26f945a5e1c544a8b2e3ebf3300cd17d.png\" alt=\"在这里插入图片描述\"></p>\n<h3 id=\"多表连接\"><a href=\"#多表连接\" class=\"headerlink\" title=\"多表连接\"></a>多表连接</h3><h4 id=\"查询每个学生的学号、姓名、选修的课程名及成绩\"><a href=\"#查询每个学生的学号、姓名、选修的课程名及成绩\" class=\"headerlink\" title=\"查询每个学生的学号、姓名、选修的课程名及成绩\"></a>查询每个学生的学号、姓名、选修的课程名及成绩</h4><pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\">Use school1\nGO\nSELECT Student.Sno,Sname,Cname,Grade\nFROM Student,SC,Course\nWHERE Student.Sno&#x3D;SC.Sno AND SC.Cno&#x3D;Course.Cno</code></pre>\n<p><img src=\"https://img-blog.csdnimg.cn/01607ece7ec24481b38d1effb2b04a0a.png\" alt=\"在这里插入图片描述\"></p>\n<h2 id=\"嵌套查询\"><a href=\"#嵌套查询\" class=\"headerlink\" title=\"嵌套查询\"></a>嵌套查询</h2><p>在SQL语言中，一个SELECT-FROM-WHERE语句称为一个<strong>查询块</strong>。<br>将一个查询块嵌套在另一个查询块的WHERE子句或HAVING短语的条件中的查询称为嵌套查询。</p>\n<h3 id=\"带有IN谓词的子查询\"><a href=\"#带有IN谓词的子查询\" class=\"headerlink\" title=\"带有IN谓词的子查询\"></a>带有IN谓词的子查询</h3><h4 id=\"查询与“李伟”在同一个系学习的学生\"><a href=\"#查询与“李伟”在同一个系学习的学生\" class=\"headerlink\" title=\"查询与“李伟”在同一个系学习的学生\"></a>查询与“李伟”在同一个系学习的学生</h4><pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\">Use school1\nGO\nSELECT Sno,Sname,Sdept\nFROM Student\nWHERE Sdept IN \n      (SELECT Sdept\n\t   FROM Student\n\t   WHERE Sname&#x3D;&#39;李伟&#39;\t  \n\t  )</code></pre>\n<p><img src=\"https://img-blog.csdnimg.cn/241af854e98a4846b5caa4a698eca275.png\" alt=\"在这里插入图片描述\"></p>\n<h4 id=\"查询选修了课程名为“数据库”的学生学号和姓名\"><a href=\"#查询选修了课程名为“数据库”的学生学号和姓名\" class=\"headerlink\" title=\"查询选修了课程名为“数据库”的学生学号和姓名\"></a>查询选修了课程名为“数据库”的学生学号和姓名</h4><pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\">Use school1\nGO\nSELECT Sno,Sname\n\nFROM Student\nWHERE Sno IN \n      (SELECT Sno\n\t   FROM SC\n\t   WHERE Cno IN \n\t              (SELECT Cno\n\t\t\t\t   FROM Course\n\t\t\t\t   WHERE Cname&#x3D;&#39; 数据库&#39;\t        \t  \n\t               )\t  \n\t  );\n     \t  \n\t        </code></pre>\n<p><img src=\"https://img-blog.csdnimg.cn/7f3b1eac7adb4bf28f4367d5b9bb4069.png\" alt=\"在这里插入图片描述\"></p>\n<h3 id=\"带有比较运算符的子查询\"><a href=\"#带有比较运算符的子查询\" class=\"headerlink\" title=\"带有比较运算符的子查询\"></a>带有比较运算符的子查询</h3><h4 id=\"找出每个学生超过他自己选修课程平均成绩的课程号\"><a href=\"#找出每个学生超过他自己选修课程平均成绩的课程号\" class=\"headerlink\" title=\"找出每个学生超过他自己选修课程平均成绩的课程号\"></a>找出每个学生超过他自己选修课程平均成绩的课程号</h4><pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\">Use school1\nGO\nSELECT Sno,Cno\nFROM SC x\nWHERE Grade &gt;&#x3D; (SELECT AVG(Grade)\n                 FROM SC y\n\t\t\t\t WHERE y.Sno&#x3D;x.Sno\n                )</code></pre>\n<p><img src=\"https://img-blog.csdnimg.cn/04afd601025e43cebc7f89d5bcea6004.png\" alt=\"在这里插入图片描述\"></p>\n<h4 id=\"查询非计算机科学系中比计算机科学系任意一个学生年龄大的学生姓名和年龄\"><a href=\"#查询非计算机科学系中比计算机科学系任意一个学生年龄大的学生姓名和年龄\" class=\"headerlink\" title=\"查询非计算机科学系中比计算机科学系任意一个学生年龄大的学生姓名和年龄\"></a>查询非计算机科学系中比计算机科学系任意一个学生年龄大的学生姓名和年龄</h4><pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\">Use school1\nGO\nSELECT\tSname,Sage\nFROM Student\nWHERE Sage&gt;ANY(SELECT Sage \n               FROM Student\n\t\t\t   WHERE Sdept&#x3D;&#39;计算机&#39;)\nAND Sdept&lt;&gt;&#39;CS&#39;</code></pre>\n<p><img src=\"https://img-blog.csdnimg.cn/fc49824a56024debb9f7b6b21fa8d089.png\" alt=\"在这里插入图片描述\"></p>\n<h3 id=\"带有EXITS谓词的子查询\"><a href=\"#带有EXITS谓词的子查询\" class=\"headerlink\" title=\"带有EXITS谓词的子查询\"></a>带有EXITS谓词的子查询</h3><p>带有EXITS谓词的子查询不返回任何数据，只产生逻辑真值true或逻辑假值false</p>\n<h4 id=\"查询所有选修了1号课程的学生姓名\"><a href=\"#查询所有选修了1号课程的学生姓名\" class=\"headerlink\" title=\"查询所有选修了1号课程的学生姓名\"></a>查询所有选修了1号课程的学生姓名</h4><pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\">Use school1\nGO\nSELECT\tSname\nFROM Student\nWHERE EXISTS(\n              SELECT *\n\t\t\t  FROM SC\n\t\t\t  WHERE Sno&#x3D;Student.Sno AND Cno&#x3D;&#39;C01&#39;\n             )</code></pre>\n<p><img src=\"https://img-blog.csdnimg.cn/12d9f6d20c7249258c50300bfedcbe0e.png\" alt=\"在这里插入图片描述\"><br>使用存在量词EXISTS后，若内层查询结果非空，则外层的WHERE子句返回真值，否则返回假值。</p>\n<h4 id=\"查询没有选修1号课程的学生姓名\"><a href=\"#查询没有选修1号课程的学生姓名\" class=\"headerlink\" title=\"查询没有选修1号课程的学生姓名\"></a>查询没有选修1号课程的学生姓名</h4><pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\">Use school1\nGO\nSELECT\tSname\nFROM Student\nWHERE NOT EXISTS(\n              SELECT *\n\t\t\t  FROM SC\n\t\t\t  WHERE Sno&#x3D;Student.Sno AND Cno&#x3D;&#39;C01&#39;\n             )</code></pre>\n<p><img src=\"https://img-blog.csdnimg.cn/15aa2cc1195a49d2ab68a702310e0b39.png\" alt=\"在这里插入图片描述\"></p>\n<h4 id=\"查询选修了全部课程的学生姓名\"><a href=\"#查询选修了全部课程的学生姓名\" class=\"headerlink\" title=\"查询选修了全部课程的学生姓名\"></a>查询选修了全部课程的学生姓名</h4><p>SQL中没有全称量词，可以将题目的意思转换成等价的用存在量词的形式：<br><strong>查询这样的学生，没有一门课程是他不选修的</strong></p>\n<pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\">Use school1\nGO\nSELECT\tSname\nFROM Student\nWHERE NOT EXISTS(\n              SELECT *\n\t\t\t  FROM Course\n\t\t\t  WHERE NOT EXISTS(\n\t\t\t                    SELECT *\n\t\t\t\t\t\t\t\tFROM SC\n\t\t\t\t\t\t\t\tWHERE Sno&#x3D;Student.Sno AND Cno&#x3D;Course.Cno\n\t\t\t                  )\n             )</code></pre>\n<p>答案是并没有这样的卷王<br><img src=\"https://img-blog.csdnimg.cn/d4c9619405654832ae4019738a918509.png\" alt=\"在这里插入图片描述\"></p>\n<h2 id=\"集合查询\"><a href=\"#集合查询\" class=\"headerlink\" title=\"集合查询\"></a>集合查询</h2><p>SELECT语句的查询结果是元组的集合，所以多个SELECT语句的结果可进行集合操作。</p>\n<p>集合操作主要包括并操作UNION、交操作INTERSECT和差操作EXCEPT<br><strong>注意，参加集合操作的各查询结果的列数必须相同；对应项的数据类型也必须相同</strong></p>\n<h4 id=\"查询数学系的学生及年龄不大于19岁的学生\"><a href=\"#查询数学系的学生及年龄不大于19岁的学生\" class=\"headerlink\" title=\"查询数学系的学生及年龄不大于19岁的学生\"></a>查询数学系的学生及年龄不大于19岁的学生</h4><pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\">Use school1\nGO\nSELECT\t*\nFROM Student\nWHERE Sdept&#x3D;&#39;数学&#39;\nUNION\nSELECT *\nFROM Student\nWHERE Sage&lt;&#x3D;19</code></pre>\n<p><img src=\"https://img-blog.csdnimg.cn/e814a30d981f47e895345e9da180950d.png\" alt=\"在这里插入图片描述\"></p>\n<h4 id=\"查询选修了课程1或者选修了课程2的学生\"><a href=\"#查询选修了课程1或者选修了课程2的学生\" class=\"headerlink\" title=\"查询选修了课程1或者选修了课程2的学生\"></a>查询选修了课程1或者选修了课程2的学生</h4><p>本例即查询选修课程1与选修课程2的学生集合的并集</p>\n<pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\">Use school1\nGO\nSELECT\tSno\nFROM SC\nWHERE Cno&#x3D;&#39;C01&#39;\nUNION\nSELECT Sno\nFROM SC\nWHERE Cno&#x3D;&#39;C02&#39;</code></pre>\n<p><img src=\"https://img-blog.csdnimg.cn/66f8fd8e21aa4975af85e3bc8e99c44e.png\" alt=\"在这里插入图片描述\"></p>\n<h4 id=\"查询数学系的学生与年龄不大于19岁的学生的交集\"><a href=\"#查询数学系的学生与年龄不大于19岁的学生的交集\" class=\"headerlink\" title=\"查询数学系的学生与年龄不大于19岁的学生的交集\"></a>查询数学系的学生与年龄不大于19岁的学生的交集</h4><pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\">Use school1\nGO\nSELECT\t*\nFROM Student\nWHERE Sdept&#x3D;&#39;数学&#39;\nINTERSECT\nSELECT *\nFROM Student\nWHERE Sage&lt;&#x3D;19</code></pre>\n<p><img src=\"https://img-blog.csdnimg.cn/6c37a607348c4ab390d84ee7db2102d1.png\" alt=\"在这里插入图片描述\"></p>\n<h4 id=\"查询既选修课课程1又选修了课程2的学生\"><a href=\"#查询既选修课课程1又选修了课程2的学生\" class=\"headerlink\" title=\"查询既选修课课程1又选修了课程2的学生\"></a>查询既选修课课程1又选修了课程2的学生</h4><p>就是查询选修课程1的学生集合与选修课程2的学生集合的交集</p>\n<pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\">Use school1\nGO\nSELECT\tSno\nFROM SC\nWHERE Cno&#x3D;&#39;C01&#39;\nINTERSECT\nSELECT\tSno\nFROM SC\nWHERE Cno&#x3D;&#39;C02&#39;</code></pre>\n<p><img src=\"https://img-blog.csdnimg.cn/9fa9c886f25a439492de38d52b5b4058.png\" alt=\"在这里插入图片描述\"></p>\n<h4 id=\"查询数学系的学生与年龄不大于19岁的学生的差集\"><a href=\"#查询数学系的学生与年龄不大于19岁的学生的差集\" class=\"headerlink\" title=\"查询数学系的学生与年龄不大于19岁的学生的差集\"></a>查询数学系的学生与年龄不大于19岁的学生的差集</h4><pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\">Use school1\nGO\nSELECT\t*\nFROM Student\nWHERE Sdept&#x3D;&#39;数学&#39;\nEXCEPT\nSELECT *\nFROM Student\nWHERE Sage&lt;&#x3D;19</code></pre>\n<p><img src=\"https://img-blog.csdnimg.cn/72d9984a599547e1a5a6c0fdd4979410.png\" alt=\"在这里插入图片描述\"></p>\n","text":"数据查询数据查询一般格式为： SELECT [ALL|DISTINCT]&lt;目标列表达式&gt;[,&lt;目标列表达式&gt;]··· FROM&lt;表名或视图名&gt;[,&lt;表名或视图名&gt;···]|(&lt;SELECT语句&gt;)[AS]&lt;别名&g...","link":"","photos":[],"count_time":{"symbolsCount":"6.7k","symbolsTime":"6 mins."},"categories":[],"tags":[{"name":"SQL","slug":"SQL","count":3,"path":"api/tags/SQL.json"},{"name":"数据库","slug":"数据库","count":8,"path":"api/tags/数据库.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E6%95%B0%E6%8D%AE%E6%9F%A5%E8%AF%A2\"><span class=\"toc-text\">数据查询</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%8D%95%E8%A1%A8%E6%9F%A5%E8%AF%A2\"><span class=\"toc-text\">单表查询</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E6%9F%A5%E8%AF%A2%E5%85%A8%E4%BD%93%E5%AD%A6%E7%94%9F%E7%9A%84%E5%A7%93%E5%90%8D%E3%80%81%E5%AD%A6%E5%8F%B7%E3%80%81%E6%89%80%E5%9C%A8%E7%B3%BB\"><span class=\"toc-text\">查询全体学生的姓名、学号、所在系</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E6%9F%A5%E8%AF%A2%E6%AF%8F%E4%B8%AA%E5%AD%A6%E7%94%9F%E7%9A%84%E8%AF%A6%E7%BB%86%E8%AE%B0%E5%BD%95\"><span class=\"toc-text\">查询每个学生的详细记录</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E6%9F%A5%E8%AF%A2%E5%85%A8%E4%BD%93%E5%AD%A6%E7%94%9F%E7%9A%84%E5%A7%93%E5%90%8D%E5%8F%8A%E5%85%B6%E5%87%BA%E7%94%9F%E5%B9%B4%E4%BB%BD\"><span class=\"toc-text\">查询全体学生的姓名及其出生年份</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E6%9F%A5%E8%AF%A2%E5%85%A8%E4%BD%93%E5%AD%A6%E7%94%9F%E7%9A%84%E5%A7%93%E5%90%8D%E3%80%81%E5%87%BA%E7%94%9F%E5%B9%B4%E4%BB%BD%E5%92%8C%E6%89%80%E5%9C%A8%E7%9A%84%E9%99%A2%E7%B3%BB%EF%BC%8C%E8%A6%81%E6%B1%82%E7%94%A8%E5%B0%8F%E5%86%99%E5%AD%97%E6%AF%8D%E8%A1%A8%E7%A4%BA%E7%B3%BB%E5%90%8D\"><span class=\"toc-text\">查询全体学生的姓名、出生年份和所在的院系，要求用小写字母表示系名</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E6%9F%A5%E8%AF%A2%E9%80%89%E4%BF%AE%E4%BA%86%E8%AF%BE%E7%A8%8B%E7%9A%84%E5%AD%A6%E7%94%9F%E5%AD%A6%E5%8F%B7\"><span class=\"toc-text\">查询选修了课程的学生学号</span></a></li></ol></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#WHERE%E5%AD%90%E5%8F%A5%E5%B8%B8%E7%94%A8%E6%9F%A5%E8%AF%A2%E6%9D%A1%E4%BB%B6\"><span class=\"toc-text\">WHERE子句常用查询条件</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E6%9F%A5%E8%AF%A2%E6%89%80%E6%9C%89%E5%B9%B4%E9%BE%84%E5%9C%A820%E5%B2%81%E4%BB%A5%E4%B8%8B%E7%9A%84%E5%AD%A6%E7%94%9F%E5%A7%93%E5%90%8D%E5%8F%8A%E5%85%B6%E5%B9%B4%E9%BE%84\"><span class=\"toc-text\">查询所有年龄在20岁以下的学生姓名及其年龄</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E6%9F%A5%E8%AF%A2%E5%B9%B4%E9%BE%84%E4%B8%8D%E5%9C%A820-23%E5%B2%81%E4%B9%8B%E9%97%B4%E7%9A%84%E5%AD%A6%E7%94%9F%E5%A7%93%E5%90%8D%E3%80%81%E7%B3%BB%E5%88%AB%E5%92%8C%E5%B9%B4%E9%BE%84\"><span class=\"toc-text\">查询年龄不在20~23岁之间的学生姓名、系别和年龄</span></a></li></ol></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%AD%97%E7%AC%A6%E5%8C%B9%E9%85%8D\"><span class=\"toc-text\">字符匹配</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E6%9F%A5%E8%AF%A2%E6%89%80%E6%9C%89%E5%A7%93%E5%88%98%E7%9A%84%E5%90%8C%E5%AD%A6%E7%9A%84%E5%A7%93%E5%90%8D%E3%80%81%E5%AD%A6%E5%8F%B7%E5%92%8C-%E6%80%A7%E5%88%AB%E3%80%82\"><span class=\"toc-text\">查询所有姓刘的同学的姓名、学号和 性别。</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E6%9F%A5%E8%AF%A2%E5%A7%93%E2%80%9C%E8%8C%83%E2%80%9D%E4%B8%94%E5%85%A8%E5%90%8D%E4%B8%BA%E4%B8%89%E4%B8%AA%E6%B1%89%E5%AD%97%E7%9A%84%E5%AD%A6%E7%94%9F%E7%9A%84%E5%A7%93%E5%90%8D\"><span class=\"toc-text\">查询姓“范”且全名为三个汉字的学生的姓名</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E6%9F%A5%E8%AF%A2%E5%90%8D%E5%AD%97%E4%B8%AD%E7%AC%AC%E4%BA%8C%E4%B8%AA%E5%AD%97%E4%B8%BA%E2%80%9C%E6%9E%97%E2%80%9D%E7%9A%84%E5%AD%A6%E7%94%9F%E7%9A%84%E5%A7%93%E5%90%8D%E5%92%8C%E5%AD%A6%E5%8F%B7\"><span class=\"toc-text\">查询名字中第二个字为“林”的学生的姓名和学号</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E6%9F%A5%E8%AF%A2%E7%BC%BA%E5%B0%91%E6%88%90%E7%BB%A9%E7%9A%84%E5%AD%A6%E7%94%9F%E7%9A%84%E5%AD%A6%E5%8F%B7%E5%92%8C%E7%9B%B8%E5%BA%94%E7%9A%84%E8%AF%BE%E7%A8%8B%E5%8F%B7\"><span class=\"toc-text\">查询缺少成绩的学生的学号和相应的课程号</span></a></li></ol></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#ORDER-BY-%E5%AD%90%E5%8F%A5\"><span class=\"toc-text\">ORDER BY 子句</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E6%9F%A5%E8%AF%A2%E5%85%A8%E4%BD%93%E5%AD%A6%E7%94%9F%E6%83%85%E5%86%B5%EF%BC%8C%E6%9F%A5%E8%AF%A2%E7%BB%93%E6%9E%9C%E6%8C%89%E6%89%80%E5%9C%A8%E7%B3%BB%E7%9A%84%E7%B3%BB%E5%8F%B7%E5%8D%87%E5%BA%8F%E6%8E%92%E5%88%97%EF%BC%8C%E5%90%8C%E4%B8%80%E7%B3%BB%E4%B8%AD%E7%9A%84%E5%AD%A6%E7%94%9F%E6%8C%89%E5%B9%B4%E9%BE%84%E9%99%8D%E5%BA%8F%E6%8E%92%E5%88%97\"><span class=\"toc-text\">查询全体学生情况，查询结果按所在系的系号升序排列，同一系中的学生按年龄降序排列</span></a></li></ol></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E8%81%9A%E9%9B%86%E5%87%BD%E6%95%B0\"><span class=\"toc-text\">聚集函数</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E6%9F%A5%E8%AF%A2%E5%AD%A6%E7%94%9F%E6%80%BB%E4%BA%BA%E6%95%B0\"><span class=\"toc-text\">查询学生总人数</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E6%9F%A5%E8%AF%A2%E9%80%89%E4%BF%AE%E4%BA%86%E8%AF%BE%E7%A8%8B%E7%9A%84%E5%AD%A6%E7%94%9F%E4%BA%BA%E6%95%B0\"><span class=\"toc-text\">查询选修了课程的学生人数</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E8%AE%A1%E7%AE%97%E9%80%89%E4%BF%AE1%E5%8F%B7%E8%AF%BE%E7%A8%8B%E7%9A%84%E5%AD%A6%E7%94%9F%E5%B9%B3%E5%9D%87%E6%88%90%E7%BB%A9\"><span class=\"toc-text\">计算选修1号课程的学生平均成绩</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E6%9F%A5%E8%AF%A2%E9%80%89%E4%BF%AE1%E5%8F%B7%E8%AF%BE%E7%A8%8B%E7%9A%84%E5%AD%A6%E7%94%9F%E7%9A%84%E6%9C%80%E9%AB%98%E5%88%86%E6%95%B0\"><span class=\"toc-text\">查询选修1号课程的学生的最高分数</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E6%9F%A5%E8%AF%A2%E5%AD%A6%E7%94%9FS01%E9%80%89%E7%A7%80%E8%AF%BE%E7%A8%8B%E7%9A%84%E6%80%BB%E5%AD%A6%E5%88%86%E6%95%B0\"><span class=\"toc-text\">查询学生S01选秀课程的总学分数</span></a></li></ol></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#GROUP-BY-%E5%AD%90%E5%8F%A5\"><span class=\"toc-text\">GROUP BY 子句</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E6%B1%82%E5%90%84%E4%B8%AA%E8%AF%BE%E7%A8%8B%E5%8F%B7%E5%8F%8A%E7%9B%B8%E5%BA%94%E7%9A%84%E9%80%89%E8%AF%BE%E4%BA%BA%E6%95%B0\"><span class=\"toc-text\">求各个课程号及相应的选课人数</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E6%9F%A5%E8%AF%A2%E9%80%89%E4%BF%AE%E4%BA%86%E4%B8%89%E9%97%A8%E5%8F%8A%E4%BB%A5%E4%B8%8A%E8%AF%BE%E7%A8%8B%E7%9A%84%E5%AD%A6%E7%94%9F%E5%AD%A6%E5%8F%B7\"><span class=\"toc-text\">查询选修了三门及以上课程的学生学号</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E6%9F%A5%E8%AF%A2%E5%B9%B3%E5%9D%87%E6%88%90%E7%BB%A9%E5%A4%A7%E4%BA%8E%E7%AD%89%E4%BA%8E80%E5%88%86%E7%9A%84%E5%AD%A6%E7%94%9F%E5%AD%A6%E5%8F%B7%E5%92%8C%E5%B9%B3%E5%9D%87%E6%88%90%E7%BB%A9\"><span class=\"toc-text\">查询平均成绩大于等于80分的学生学号和平均成绩</span></a></li></ol></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E8%BF%9E%E6%8E%A5%E6%9F%A5%E8%AF%A2\"><span class=\"toc-text\">连接查询</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E7%AD%89%E5%80%BC%E4%B8%8E%E9%9D%9E%E7%AD%89%E5%80%BC%E8%BF%9E%E6%8E%A5%E6%9F%A5%E8%AF%A2\"><span class=\"toc-text\">等值与非等值连接查询</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E6%9F%A5%E8%AF%A2%E6%AF%8F%E4%B8%AA%E5%AD%A6%E7%94%9F%E5%8F%8A%E5%85%B6%E9%80%89%E4%BF%AE%E8%AF%BE%E7%A8%8B%E7%9A%84%E6%83%85%E5%86%B5\"><span class=\"toc-text\">查询每个学生及其选修课程的情况</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E6%9F%A5%E8%AF%A2%E9%80%89%E4%BF%AE2%E5%8F%B7%E8%AF%BE%E7%A8%8B%E4%B8%94%E6%88%90%E7%BB%A9%E5%9C%A890%E5%88%86%E4%BB%A5%E4%B8%8A%E7%9A%84%E6%89%80%E6%9C%89%E5%AD%A6%E7%94%9F%E7%9A%84%E5%AD%A6%E5%8F%B7%E5%92%8C%E5%A7%93%E5%90%8D\"><span class=\"toc-text\">查询选修2号课程且成绩在90分以上的所有学生的学号和姓名</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E8%87%AA%E8%BA%AB%E8%BF%9E%E6%8E%A5\"><span class=\"toc-text\">自身连接</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E6%9F%A5%E8%AF%A2%E6%AF%8F%E4%B8%80%E9%97%A8%E8%AF%BE%E7%9A%84%E9%97%B4%E6%8E%A5%E5%85%88%E4%BF%AE%E8%AF%BE\"><span class=\"toc-text\">查询每一门课的间接先修课</span></a></li></ol></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%A4%96%E8%BF%9E%E6%8E%A5\"><span class=\"toc-text\">外连接</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E6%9F%A5%E8%AF%A2%E5%A1%AB%E5%85%A5%E7%A9%BA%E5%80%BC\"><span class=\"toc-text\">查询填入空值</span></a></li></ol></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%A4%9A%E8%A1%A8%E8%BF%9E%E6%8E%A5\"><span class=\"toc-text\">多表连接</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E6%9F%A5%E8%AF%A2%E6%AF%8F%E4%B8%AA%E5%AD%A6%E7%94%9F%E7%9A%84%E5%AD%A6%E5%8F%B7%E3%80%81%E5%A7%93%E5%90%8D%E3%80%81%E9%80%89%E4%BF%AE%E7%9A%84%E8%AF%BE%E7%A8%8B%E5%90%8D%E5%8F%8A%E6%88%90%E7%BB%A9\"><span class=\"toc-text\">查询每个学生的学号、姓名、选修的课程名及成绩</span></a></li></ol></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%B5%8C%E5%A5%97%E6%9F%A5%E8%AF%A2\"><span class=\"toc-text\">嵌套查询</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%B8%A6%E6%9C%89IN%E8%B0%93%E8%AF%8D%E7%9A%84%E5%AD%90%E6%9F%A5%E8%AF%A2\"><span class=\"toc-text\">带有IN谓词的子查询</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E6%9F%A5%E8%AF%A2%E4%B8%8E%E2%80%9C%E6%9D%8E%E4%BC%9F%E2%80%9D%E5%9C%A8%E5%90%8C%E4%B8%80%E4%B8%AA%E7%B3%BB%E5%AD%A6%E4%B9%A0%E7%9A%84%E5%AD%A6%E7%94%9F\"><span class=\"toc-text\">查询与“李伟”在同一个系学习的学生</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E6%9F%A5%E8%AF%A2%E9%80%89%E4%BF%AE%E4%BA%86%E8%AF%BE%E7%A8%8B%E5%90%8D%E4%B8%BA%E2%80%9C%E6%95%B0%E6%8D%AE%E5%BA%93%E2%80%9D%E7%9A%84%E5%AD%A6%E7%94%9F%E5%AD%A6%E5%8F%B7%E5%92%8C%E5%A7%93%E5%90%8D\"><span class=\"toc-text\">查询选修了课程名为“数据库”的学生学号和姓名</span></a></li></ol></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%B8%A6%E6%9C%89%E6%AF%94%E8%BE%83%E8%BF%90%E7%AE%97%E7%AC%A6%E7%9A%84%E5%AD%90%E6%9F%A5%E8%AF%A2\"><span class=\"toc-text\">带有比较运算符的子查询</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E6%89%BE%E5%87%BA%E6%AF%8F%E4%B8%AA%E5%AD%A6%E7%94%9F%E8%B6%85%E8%BF%87%E4%BB%96%E8%87%AA%E5%B7%B1%E9%80%89%E4%BF%AE%E8%AF%BE%E7%A8%8B%E5%B9%B3%E5%9D%87%E6%88%90%E7%BB%A9%E7%9A%84%E8%AF%BE%E7%A8%8B%E5%8F%B7\"><span class=\"toc-text\">找出每个学生超过他自己选修课程平均成绩的课程号</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E6%9F%A5%E8%AF%A2%E9%9D%9E%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6%E7%B3%BB%E4%B8%AD%E6%AF%94%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6%E7%B3%BB%E4%BB%BB%E6%84%8F%E4%B8%80%E4%B8%AA%E5%AD%A6%E7%94%9F%E5%B9%B4%E9%BE%84%E5%A4%A7%E7%9A%84%E5%AD%A6%E7%94%9F%E5%A7%93%E5%90%8D%E5%92%8C%E5%B9%B4%E9%BE%84\"><span class=\"toc-text\">查询非计算机科学系中比计算机科学系任意一个学生年龄大的学生姓名和年龄</span></a></li></ol></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%B8%A6%E6%9C%89EXITS%E8%B0%93%E8%AF%8D%E7%9A%84%E5%AD%90%E6%9F%A5%E8%AF%A2\"><span class=\"toc-text\">带有EXITS谓词的子查询</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E6%9F%A5%E8%AF%A2%E6%89%80%E6%9C%89%E9%80%89%E4%BF%AE%E4%BA%861%E5%8F%B7%E8%AF%BE%E7%A8%8B%E7%9A%84%E5%AD%A6%E7%94%9F%E5%A7%93%E5%90%8D\"><span class=\"toc-text\">查询所有选修了1号课程的学生姓名</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E6%9F%A5%E8%AF%A2%E6%B2%A1%E6%9C%89%E9%80%89%E4%BF%AE1%E5%8F%B7%E8%AF%BE%E7%A8%8B%E7%9A%84%E5%AD%A6%E7%94%9F%E5%A7%93%E5%90%8D\"><span class=\"toc-text\">查询没有选修1号课程的学生姓名</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E6%9F%A5%E8%AF%A2%E9%80%89%E4%BF%AE%E4%BA%86%E5%85%A8%E9%83%A8%E8%AF%BE%E7%A8%8B%E7%9A%84%E5%AD%A6%E7%94%9F%E5%A7%93%E5%90%8D\"><span class=\"toc-text\">查询选修了全部课程的学生姓名</span></a></li></ol></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E9%9B%86%E5%90%88%E6%9F%A5%E8%AF%A2\"><span class=\"toc-text\">集合查询</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E6%9F%A5%E8%AF%A2%E6%95%B0%E5%AD%A6%E7%B3%BB%E7%9A%84%E5%AD%A6%E7%94%9F%E5%8F%8A%E5%B9%B4%E9%BE%84%E4%B8%8D%E5%A4%A7%E4%BA%8E19%E5%B2%81%E7%9A%84%E5%AD%A6%E7%94%9F\"><span class=\"toc-text\">查询数学系的学生及年龄不大于19岁的学生</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E6%9F%A5%E8%AF%A2%E9%80%89%E4%BF%AE%E4%BA%86%E8%AF%BE%E7%A8%8B1%E6%88%96%E8%80%85%E9%80%89%E4%BF%AE%E4%BA%86%E8%AF%BE%E7%A8%8B2%E7%9A%84%E5%AD%A6%E7%94%9F\"><span class=\"toc-text\">查询选修了课程1或者选修了课程2的学生</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E6%9F%A5%E8%AF%A2%E6%95%B0%E5%AD%A6%E7%B3%BB%E7%9A%84%E5%AD%A6%E7%94%9F%E4%B8%8E%E5%B9%B4%E9%BE%84%E4%B8%8D%E5%A4%A7%E4%BA%8E19%E5%B2%81%E7%9A%84%E5%AD%A6%E7%94%9F%E7%9A%84%E4%BA%A4%E9%9B%86\"><span class=\"toc-text\">查询数学系的学生与年龄不大于19岁的学生的交集</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E6%9F%A5%E8%AF%A2%E6%97%A2%E9%80%89%E4%BF%AE%E8%AF%BE%E8%AF%BE%E7%A8%8B1%E5%8F%88%E9%80%89%E4%BF%AE%E4%BA%86%E8%AF%BE%E7%A8%8B2%E7%9A%84%E5%AD%A6%E7%94%9F\"><span class=\"toc-text\">查询既选修课课程1又选修了课程2的学生</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E6%9F%A5%E8%AF%A2%E6%95%B0%E5%AD%A6%E7%B3%BB%E7%9A%84%E5%AD%A6%E7%94%9F%E4%B8%8E%E5%B9%B4%E9%BE%84%E4%B8%8D%E5%A4%A7%E4%BA%8E19%E5%B2%81%E7%9A%84%E5%AD%A6%E7%94%9F%E7%9A%84%E5%B7%AE%E9%9B%86\"><span class=\"toc-text\">查询数学系的学生与年龄不大于19岁的学生的差集</span></a></li></ol></li></ol></li></ol></li></ol>","author":{"name":"Algernon","slug":"blog-author","avatar":"https://user-images.githubusercontent.com/54904760/224857900-b2e8457c-43d2-46b7-901c-6c770f24bbad.png","link":"/","description":"谁也没见过风，更别说我和你了","socials":{"github":"https://github.com/Algernon98","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/Algernon98","juejin":"","customs":{"bilibili":{"icon":"/svg/bilibili-line.svg","link":"https://space.bilibili.com/281724502"}}}},"mapped":true,"prev_post":{"title":"SQL语言（二）数据更新","uid":"08a3724cd6c5748cb3a50ed908393323","slug":"sql2","date":"2022-11-09T03:16:49.000Z","updated":"2022-11-09T03:18:15.074Z","comments":true,"path":"api/articles/sql2.json","keywords":null,"cover":[],"text":"数据更新数据更新操作有三种： 向表中添加若干行数据 修改表中的数据 删除表中的若干行数据 在SQL中有相应的三类语句 插入数据插入语句INSERT通常有两种形式，一种是插入一个元组，另一种是插入子查询的结果。后者可以一次插入多个元组。 插入元组将一个新学生元组插入到Student...","link":"","photos":[],"count_time":{"symbolsCount":"2.2k","symbolsTime":"2 mins."},"categories":[{"name":"信管","slug":"信管","count":19,"path":"api/categories/信管.json"}],"tags":[{"name":"SQL","slug":"SQL","count":3,"path":"api/tags/SQL.json"},{"name":"数据库","slug":"数据库","count":8,"path":"api/tags/数据库.json"}],"author":{"name":"Algernon","slug":"blog-author","avatar":"https://user-images.githubusercontent.com/54904760/224857900-b2e8457c-43d2-46b7-901c-6c770f24bbad.png","link":"/","description":"谁也没见过风，更别说我和你了","socials":{"github":"https://github.com/Algernon98","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/Algernon98","juejin":"","customs":{"bilibili":{"icon":"/svg/bilibili-line.svg","link":"https://space.bilibili.com/281724502"}}}}},"next_post":{"title":"【文本分析】（三）","uid":"a49a00560b25464fbef355e1b153e4e1","slug":"文本分析3","date":"2022-11-07T11:50:49.000Z","updated":"2022-11-07T11:52:50.827Z","comments":true,"path":"api/articles/文本分析3.json","keywords":null,"cover":[],"text":" https://zhuanlan.zhihu.com/p/109110105 文本资料下载 数据集制作文字存入word文本加入txt 分词import jieba import jieba.analyse import jieba import jieba.posseg as ...","link":"","photos":[],"count_time":{"symbolsCount":"78k","symbolsTime":"1:10"},"categories":[],"tags":[{"name":"文本分析","slug":"文本分析","count":3,"path":"api/tags/文本分析.json"}],"author":{"name":"Algernon","slug":"blog-author","avatar":"https://user-images.githubusercontent.com/54904760/224857900-b2e8457c-43d2-46b7-901c-6c770f24bbad.png","link":"/","description":"谁也没见过风，更别说我和你了","socials":{"github":"https://github.com/Algernon98","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/Algernon98","juejin":"","customs":{"bilibili":{"icon":"/svg/bilibili-line.svg","link":"https://space.bilibili.com/281724502"}}}}}}