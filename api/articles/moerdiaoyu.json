{"title":"摩尔钓鱼","uid":"6a6d5f1226605e232622dbe9c9907bfc","slug":"moerdiaoyu","date":"2022-11-03T13:44:49.000Z","updated":"2022-11-08T15:52:53.637Z","comments":true,"path":"api/articles/moerdiaoyu.json","keywords":null,"cover":[],"content":"<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p> <img src=\"https://img-blog.csdnimg.cn/2021083020064479.jpg?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBAQWxnZXJub245OA==,size_20,color_FFFFFF,t_70,g_se,x_16\" alt=\"img\"><img src=\"data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==\" alt=\"点击并拖拽以移动\">编辑</p>\n<p> <strong>题目描述：</strong></p>\n<p>2021年的暑假到了，小摩尔们看着手游版波光粼粼的小河，觉得钓鱼会是一个很完美的夏日活动。可是参加活动的摩尔数量太多了，本着爱与和平的原则，为了不让小摩尔们为了争夺场地而吵架，几只聪明的小摩尔决定从一条有着各种各样小鱼的大河修建一个主水道引河水，再通过修建小水道把主水道的河水引到每个小摩尔的家门口。考虑到美观和地形优势，这几只聪明的小摩尔决定按照由东向西的方向修建主水道，而小水道则以由北往南或者由南往北的方向与主水道相连。为了更快竣工，小摩尔们想请你帮帮忙，确定主水道的最优位置并计算出最少需要多久可以修完下水道？</p>\n<p><strong>输入格式：</strong></p>\n<p>第一行是一个整数n，表示参加钓鱼比赛的摩尔数量（0&lt;n&lt;10000);第二行是一个整数t，表示修建一单位的小水道花费的时间（0&lt;t&lt;10）;接下来n行是每位参赛小摩尔的家的位置，每行有两个整数x和y（-10000&lt;x,y&lt;10000),其中x表示东西方向，y表示南北方向。</p>\n<p><strong>输出格式：</strong></p>\n<p>仅一行，即一个整数，代表最少需要的时间。</p>\n<p><strong>样例</strong></p>\n<p><strong>样例输入</strong></p>\n<blockquote>\n<p>6</p>\n<p>4</p>\n<p>3 7</p>\n<p>12 5</p>\n<p>9 13</p>\n<p>20 1</p>\n<p>11 11</p>\n<p>211 -5</p></blockquote>\n<p><strong>样例输出：</strong></p>\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>120</p></blockquote>\n<p>数据范围与提示：</p>\n<p>0&lt;n&lt;10000</p>\n<p>0&lt;t&lt;10</p>\n<p>-10000&lt;x,y&lt;10000</p>\n<hr>\n<p>根据题意，我们可以以东西主河道作为x轴，南北作为y轴，发现每一条小河道的距离为距离主河道的距离|y|，而所需时间即是|y|乘以单位时间t，与x无关，也就是说，从第三个数开始，每奇数个数读取后不产生作用，计算式不需要考虑x。</p>\n<p>所以解答程序有以下几个要点：</p>\n<p>1.构造一个循环，一次读入输入的所有数字，并储存。</p>\n<p>2.求得y轴上一点，使得该点距离其他点的距离之和（一次线性）最短</p>\n<p>3.求得以该点为x轴时各点纵坐标的绝对值之和。</p>\n<p>注意：数据范围（这一点会在之后详细阐述）</p>\n<p>以下是第一次的代码</p>\n<pre class=\"line-numbers language-cpp\" data-language=\"cpp\"><code class=\"language-cpp\">#include&lt;stdio.h&gt;\n\n#include&lt;math.h&gt;\n\n\n\nint split(long a[], int low, int high)\n&#123;\n\tint part_element &#x3D; a[low];\n\n\tfor (;;) &#123;\n\t\twhile (low &lt; high &amp;&amp; part_element &lt;&#x3D; a[high])\n\t\t\thigh--;\n\t\tif (low &gt;&#x3D; high)\n\t\t\tbreak;\n\t\ta[low++] &#x3D; a[high];\n\n\t\twhile (low &lt; high &amp;&amp; a[low] &lt;&#x3D; part_element)\n\t\t\tlow++;\n\t\tif (low &gt;&#x3D; high) break;\n\t\ta[high--] &#x3D; a[low];\n\t&#125;\n\n\ta[high] &#x3D; part_element;\n\treturn high;\n&#125;\n\nvoid quicksort(long a[], int low, int high)\n&#123;\n\tint middle;\n\n\tif (low &gt;&#x3D; high)\n\t\treturn;\n\tmiddle &#x3D; split(a, low, high);\n\tquicksort(a, low, middle - 1);\n\tquicksort(a, middle + 1, high);\n&#125;\n\nint main() &#123;\n\tlong n, num, sum, target;\n\tint t;\n\tlong x[10];\n\tlong y[10];\n\tscanf(&quot;%d&quot;, &amp;n);\n\tscanf(&quot;%d&quot;, &amp;t);\n\tfor (long i &#x3D; 0; i &lt; n; i++)\n\t&#123;\n\t\tx[i] &#x3D; scanf(&quot;%d&quot;, &amp;x[i]);\n\t\ty[i] &#x3D; scanf(&quot;%d&quot;, &amp;y[i]);\n\n\t&#125;\n\n\tquicksort(y, 0, n - 1);\n\tif (n % 2 &#x3D;&#x3D; 0)\n\t\tnum &#x3D; (y[n &#x2F; 2] + y[n &#x2F; 2 - 1]) &#x2F; 2;\n\telse\n\t\tnum &#x3D; y[(n&#x2F;2) ] ;\n\n\tfor (long i &#x3D; 0; i &lt; n; i++) &#123;\n\t sum +&#x3D; abs(y[i] - num);\n\t&#125;\n\n\ttarget &#x3D; sum * t;\n\tprintf(&quot;%d&quot;, target);\n\n\treturn 0;\n&#125;</code></pre>\n<p><img src=\"data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==\" alt=\"点击并拖拽以移动\"></p>\n<p>我的思路是，使用一个快速排序算法，将y所储存的数字按照从低到高排序，之后取中位数：</p>\n<p>当这一系列数字个数为奇数时，中位数到各点距离之和最短；</p>\n<p>当这一系列数字个数为偶数时，最中间两点间任意数字到各点距离之和想等且最短。</p>\n<p>然而在devC++上代入样例时发现无法得到预期结果。</p>\n<p>分析原因：</p>\n<p>最开始希望变长数组能够按照输入的数字改变长度，在声明时使用 int x[t]的形式，报错，再看题，数据范围0&lt;t&lt;10,改为 x[10] .</p>\n<p>根据输出结果推测，输出=t，可知y的读取和平均数的计算中有一部分出了错。</p>\n<p>于是修改代码，首先使用C++库中的sort函数简化；</p>\n<p>其次，根据题意，将数组扩大到10000；</p>\n<p>修改代码如下：</p>\n<pre class=\"line-numbers language-cpp\" data-language=\"cpp\"><code class=\"language-cpp\">#include&lt;iostream&gt;\n#include&lt;cmath&gt;\n#include&lt;stdio.h&gt;\n#include&lt;algorithm&gt;\n\n\n\n\n\n\n\nint main() &#123;\n\tusing namespace std;\n\tint n, target;\n\tint t;\n\tint num;\n\n\tscanf(&quot;%d&quot;, &amp;n);\n\tscanf(&quot;%d&quot;, &amp;t);\n\tint a[10000];\n\tint b[10000];\n\tfor (int i &#x3D; 0; i &lt; n; i++)\n\t&#123;\n\t\tscanf(&quot;%d&quot;, &amp;a[i]);\n\t\tscanf(&quot;%d&quot;, &amp;b[i]);\n\n\t&#125;\n\t\n\tsort(b, b + n);\n\tif (n % 2 &#x3D;&#x3D; 0)\n\t\tnum &#x3D; b[n &#x2F; 2];\n\telse if (n &#x3D;&#x3D; 1)\n\t\treturn 0;\n\telse \n\t\tnum &#x3D; ((b[n &#x2F; 2 - 1] + b[n &#x2F; 2]) &#x2F; 2);\n\t\n  \n\n\n\n\tint sum &#x3D; 0;\n\tfor (int i &#x3D; 0; i &lt; n; i++) &#123;\n\tsum +&#x3D; abs(b[i] - num);\n\t&#125;\n\n\t\n\ttarget &#x3D; t *  sum ;\n\t\n\n\tprintf(&quot;%d\\n&quot;, target);\n\n\treturn 0;\n&#125;</code></pre>\n<p><img src=\"data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==\" alt=\"点击并拖拽以移动\"></p>\n<p>代码已经可以满足样例，但oj上只有60分。</p>\n<p>继续分析：</p>\n<p>测试数据部分可以通过，部分不能。怀疑是奇偶数出错，即中位数出问题。</p>\n<p>（最后确实是中位数写反了，但那都是后话了）</p>\n<p>当时没有觉得算法出了什么问题，而且有的情况会超时，怀疑是数组越界，于是翻书，修改声明。</p>\n<p>朋友的建议下使用long long.</p>\n<p>之后选择查找的算法，使用<a href=\"https://blog.csdn.net/pi9nc/article/details/9666627\">三分查找</a>；</p>\n<p>修改后代码如下：</p>\n<pre class=\"line-numbers language-cpp\" data-language=\"cpp\"><code class=\"language-cpp\"># include &lt;cstdio&gt;\n# include &lt;cmath&gt;\n# include &lt;algorithm&gt;\nusing namespace std;\nconst int N &#x3D; 2e4 + 12;\nint n;\nlong long t,m &#x3D; 0x7fffffff,y[N];\nlong long check(long long k)\n&#123;\n    long long ans &#x3D; 0;\n    for(int i &#x3D; 1;i &lt;&#x3D; n;i++)\n    ans +&#x3D; abs(y[i] - k);\n    return ans;\n&#125;\nint main()\n&#123;\n    scanf(&quot;%d %lld&quot;,&amp;n,&amp;t);\n    for(int i &#x3D; 1;i &lt;&#x3D; n;i++)\n     for(int j &#x3D; 0;j &lt; 2;j++)\n      scanf(&quot;%lld&quot;,&amp;y[i]);\n    sort(y + 1,y + n + 1);\n    long long l &#x3D; y[1],r &#x3D; y[n],mid1,mid2;\n    while(l + 5 &lt; r)\n    &#123;\n        mid1 &#x3D; l + (r - l) &#x2F; 3,\n      mid2 &#x3D; l + (r - l) &#x2F; 3 * 2;\n        if(check(mid1) &lt; check(mid2))r &#x3D; mid2;\n        else l &#x3D; mid1;\n    &#125; \n    for(int i &#x3D; l;i &lt;&#x3D; r;i++)m &#x3D; min(m,check(i));\n    printf(&quot;%lld\\n&quot;,m * t);\n&#125;</code></pre>\n<p><img src=\"data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==\" alt=\"点击并拖拽以移动\"></p>\n<p>abs函数用来求绝对值，声明改为long long.</p>\n<p>AC.</p>\n<p>但后续和学长交流得知，当初理解没问题，后续想复杂了。</p>\n<p>感想：</p>\n<p>1.分析题目第一重要，虽然看着很像查找但最终思路很简单；</p>\n<p>2.代码规范，对C++还不熟悉，代码中c与c++杂糅，需要尽快从c转向c++；</p>\n<p>3.多刷刷洛谷，不能再一道题做一天了。</p>\n<p>最后附上正解（python)  （来自学长）</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">n &#x3D; eval(input())\nt &#x3D; eval(input())\ny_pos &#x3D; []\ny_max &#x3D; -1\ny_min &#x3D; 100000000\ndistance &#x3D; 100000000\nfor i in range(n):\n    temp &#x3D; input()\n    temp &#x3D; int(temp.split(&quot; &quot;)[1])\n    y_pos.append(temp)\n    if(temp &gt; y_max):\n        y_max &#x3D; temp\n    if(temp &lt; y_min):\n        y_min &#x3D; temp\nfor i in range(y_min, y_max+1):\n    temp &#x3D; 0\n    No &#x3D; 0\n    for j in range(n):\n        temp +&#x3D; t*abs(y_pos[j]-i)\n    if(temp &lt; distance):\n        distance &#x3D; temp\nprint(distance)</code></pre>\n</blockquote>\n","text":" 编辑 题目描述： 2021年的暑假到了，小摩尔们看着手游版波光粼粼的小河，觉得钓鱼会是一个很完美的夏日活动。可是参加活动的摩尔数量太多了，本着爱与和平的原则，为了不让小摩尔们为了争夺场地而吵架，几只聪明的小摩尔决定从一条有着各种各样小鱼的大河修建一个主水道引河水，再通过修建小水...","link":"","photos":[],"count_time":{"symbolsCount":"5.1k","symbolsTime":"5 mins."},"categories":[{"name":"算法","slug":"算法","count":2,"path":"api/categories/算法.json"}],"tags":[{"name":"算法","slug":"算法","count":4,"path":"api/tags/算法.json"}],"toc":"","author":{"name":"Algernon","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/68c4c7d8696c482da565ab5c8ebfa2fa.png","link":"/","description":"谁也没见过风，更别说我和你了","socials":{"github":"https://github.com/Algernon98","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/Algernon98","juejin":"","customs":{"bilibili":{"icon":"/svg/bilibili-line.svg","link":"https://space.bilibili.com/281724502"}}}},"mapped":true,"prev_post":{"title":"统计学习导论 学习笔记（2）","uid":"694b21aa68d69c8a1bd7b64f5260a5be","slug":"统计学习导论2","date":"2022-11-03T13:48:49.000Z","updated":"2022-11-08T16:31:56.698Z","comments":true,"path":"api/articles/统计学习导论2.json","keywords":null,"cover":null,"text":"非线性模型 多项式回归 阶梯函数 回归样条 光滑样条 局部回归 广义可加模型 分段多项式分段多项式回归在X的不同区域拟合独立的低阶多项式函数，以此取代在X全部取值范围内拟合高阶多项式 局部回归局部回归是拟合光滑非线性函数的另外一种方法，在对一个目标观测点$x_0$拟合时，该方法只...","link":"","photos":[],"count_time":{"symbolsCount":317,"symbolsTime":"1 mins."},"categories":[{"name":"学习笔记","slug":"学习笔记","count":3,"path":"api/categories/学习笔记.json"}],"tags":[{"name":"算法","slug":"算法","count":4,"path":"api/tags/算法.json"}],"author":{"name":"Algernon","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/68c4c7d8696c482da565ab5c8ebfa2fa.png","link":"/","description":"谁也没见过风，更别说我和你了","socials":{"github":"https://github.com/Algernon98","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/Algernon98","juejin":"","customs":{"bilibili":{"icon":"/svg/bilibili-line.svg","link":"https://space.bilibili.com/281724502"}}}}},"next_post":{"title":"统计学习导论 学习笔记（1）","uid":"2c79875937ce4f2b27d6f5db2a33f4e1","slug":"统计学习导论1","date":"2022-11-03T13:28:49.000Z","updated":"2022-11-08T16:31:32.232Z","comments":true,"path":"api/articles/统计学习导论1.json","keywords":null,"cover":null,"text":" 大部分统计学习问题分为以下两种类型：指导学习和无指导学习。对每一个预测变量$x_i$(i=1,…,n)都有相应变量的观测$y_i$。建模的目标是通过建立预测变量与响应变量的关系，精准预测响应变量或更好理解响应变量与预测变量的关系。 许多传统的统计学习方法，比如线性回归和逻辑斯谛...","link":"","photos":[],"count_time":{"symbolsCount":"1.5k","symbolsTime":"1 mins."},"categories":[{"name":"学习笔记","slug":"学习笔记","count":3,"path":"api/categories/学习笔记.json"}],"tags":[{"name":"算法","slug":"算法","count":4,"path":"api/tags/算法.json"}],"author":{"name":"Algernon","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/68c4c7d8696c482da565ab5c8ebfa2fa.png","link":"/","description":"谁也没见过风，更别说我和你了","socials":{"github":"https://github.com/Algernon98","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/Algernon98","juejin":"","customs":{"bilibili":{"icon":"/svg/bilibili-line.svg","link":"https://space.bilibili.com/281724502"}}}}}}